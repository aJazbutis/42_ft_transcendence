"use strict";(self.webpackChunkping_pong_frontend=self.webpackChunkping_pong_frontend||[]).push([[592],{4984:(m,l,i)=>{i.d(l,{$:()=>d,$B:()=>C,A$:()=>s,Gg:()=>g,In:()=>e,JB:()=>t,JV:()=>r,MR:()=>O,MV:()=>S,OR:()=>u,Q2:()=>n,Ry:()=>p,ae:()=>h,dO:()=>a,ey:()=>U,iy:()=>T,jx:()=>E,pD:()=>_,pl:()=>R,pn:()=>M,qd:()=>f,rE:()=>P,rO:()=>D,v_:()=>v,wY:()=>A,xd:()=>I});const r="create",u="join",h="userChannels",d="channelUsers",_="channels",a="messages",e="leave",t="admin+",s="admin-",g="ban",E="unban",p="kick",n="mute",f="privMsg",C="newMsg",A="AcceptToPriv",v="declineToPriv",I="block",D="unblock",M="error",O="success",T="user-status",R="game",P="channel",S="accept",U="invite"},3976:(m,l,i)=>{i.d(l,{D2:()=>r});var r=function(e){return e[e.READY=0]="READY",e[e.START=1]="START",e[e.INPROGRESS=2]="INPROGRESS",e[e.PAUSE=3]="PAUSE",e[e.END=4]="END",e}(r||{})},399:(m,l,i)=>{i.d(l,{h:()=>g});var s,r=i(2029),c=i(3976),u=i(8645),h=i(5619),d=i(4984),_=i(3227);let g=(()=>{class E{constructor(n){this.socket=n,this.height=1e3,this.width=500,this.test=[0,0],this.gameInfoSubject=new u.x,this.gameStatus=new h.X(0),this.inTheQueue=new u.x,this.keyPress=new r.vpe,this.started=!1,this.difficulty=0,this.paddlePosition="0",this.listenersOn=!1}updateSize(n,o){this.width=n,this.height=o}returnValue(){return this.test}getGameObservable(){return this.gameInfoSubject.asObservable()}getStatusQueue(){return this.inTheQueue.asObservable()}getGameStatus(){return this.gameStatus}setGameStatus(n){this.gameStatus.next(n)}createMatchInfo(n,o){return{matchId:n,mode:o}}createPaddleDto(n){return{step:n}}createGameDto(n){return{mode:n}}padlePositionEmitter(n){const o=this.createPaddleDto(n);this.socket.emit("key",o)}listenersInit(){this.listenersOn=!0,this.socket.on("join",n=>{}),this.socket.on("game",n=>{s=n,this.userInfo||(s.status=c.D2.PAUSE),s.status===c.D2.PAUSE&&(s.status=c.D2.END),this.gameInfoSubject.next(s),this.gameStatus.next(s.status)}),this.socket.on("error",n=>{alert("Internal Server Error")}),this.socket.on("start",n=>{if("Waiting players to join"===n)this.inTheQueue.next(!0),console.log("einfach");else if(this.inTheQueue.next(!1),this.matchInfo=n,this.matchInfo.id){const o=this.createMatchInfo(this.matchInfo.id,this.difficulty);this.socket.emit("join",o)}})}queueEmit(){const n=this.createGameDto(this.difficulty);this.socket.emit("start",n)}startGameService(n){this.difficulty=n,!1===this.listenersOn&&this.listenersInit();const o=this.createGameDto(this.difficulty);this.socket.emit("start",o)}getUser(){this.socket.on("user",n=>{this.userInfo=n})}inviteToMatch(n,o){this.socket.emit(d.ey,{userId:n,mode:o})}acceptInvite(n,o){this.socket.emit(d.MV,{userId:n,mode:o})}static#t=this.\u0275fac=function(o){return new(o||E)(r.LFG(_._e))};static#e=this.\u0275prov=r.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})()},3528:(m,l,i)=>{i.d(l,{H:()=>_});var r=i(4984),c=i(7522),u=i(2029),h=i(9862),d=i(3227);let _=(()=>{class a{constructor(t,s){this.http=t,this.userSocket=s,this.domain=c._}getCurrentUser(){return this.http.get(`${this.domain}/user/profile`,{withCredentials:!0})}getUser(t){return this.http.get(`${this.domain}/user/profile/${t}`,{withCredentials:!0})}getCurrentUserFriends(){return this.http.get(`${this.domain}/user/friends`,{withCredentials:!0})}getCurrentUserSentRequests(){return this.http.get(`${this.domain}/user/friends/requests`,{withCredentials:!0})}getCurrentUserReceivedRequests(){return this.http.get(`${this.domain}/user/friends/pending`,{withCredentials:!0})}getFriends(t){return this.http.get(`${this.domain}/user/${t}/friends`,{withCredentials:!0})}setAvatar(t){return this.http.post(`${this.domain}/user/image/upload`,t,{withCredentials:!0})}setName(t){this.http.patch(`${this.domain}/user/username`,{username:t},{withCredentials:!0}).subscribe()}setTitle(t){this.http.patch(`${this.domain}/user/title`,{title:t},{withCredentials:!0}).subscribe()}sendRequest(t){return this.http.post(`${this.domain}/user/request-friend`,{friendId:t},{withCredentials:!0})}acceptRequest(t){return this.http.patch(`${this.domain}/user/add-friend`,{friendId:t},{withCredentials:!0})}declineRequest(t){return this.http.patch(`${this.domain}/user/decline-friend`,{friendId:t},{withCredentials:!0})}removeFriend(t){return this.http.delete(`${this.domain}/user/friend/${t}`,{withCredentials:!0})}getCurrentUserRank(){return this.http.get(`${this.domain}/ranking/level`,{withCredentials:!0})}getRank(t){return this.http.get(`${this.domain}/ranking/${t}/level`,{withCredentials:!0})}getCurrentUserStats(){return this.http.get(`${this.domain}/ranking/stats`,{withCredentials:!0})}getStats(t){return this.http.get(`${this.domain}/ranking/${t}/stats`,{withCredentials:!0})}getCurrentUserHistory(){return this.http.get(`${this.domain}/ranking/history`,{withCredentials:!0})}getHistory(t){return this.http.get(`${this.domain}/ranking/${t}/history`,{withCredentials:!0})}enable2FA(t){return this.http.patch(`${this.domain}/user/enable-mfa`,{email:t},{withCredentials:!0})}disable2FA(){return this.http.patch(`${this.domain}/user/disable-mfa`,{},{withCredentials:!0})}enableSend2FA(){return this.http.get(`${this.domain}/42auth/send-code-mfa`,{withCredentials:!0})}verificationEnable2FA(t){return this.http.post(`${this.domain}/42auth/verify-mfa`,{code:t},{withCredentials:!0})}statusListener(){return this.userSocket.fromEvent(r.iy)}requestStatus(t){this.userSocket.emit(r.iy,{id:t})}static#t=this.\u0275fac=function(s){return new(s||a)(u.LFG(h.eN),u.LFG(d.ib))};static#e=this.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},833:(m,l,i)=>{i.d(l,{S:()=>u});var r=i(2029),c=i(180);let u=(()=>{class h{constructor(){}static#t=this.\u0275fac=function(a){return new(a||h)};static#e=this.\u0275cmp=r.Xpm({type:h,selectors:[["app-navbar"]],decls:9,vars:0,consts:[["routerLink","/chat","routerLinkActive","active"],["routerLink","/game","routerLinkActive","active"],["routerLink","/leaderboard","routerLinkActive","active"],["routerLink","/profile","routerLinkActive","active"]],template:function(a,e){1&a&&(r.TgZ(0,"ul")(1,"li",0),r._uU(2,"Chat"),r.qZA(),r.TgZ(3,"li",1),r._uU(4,"Play"),r.qZA(),r.TgZ(5,"li",2),r._uU(6,"Leaderboard"),r.qZA(),r.TgZ(7,"li",3),r._uU(8,"My Profile"),r.qZA()())},dependencies:[c.rH,c.Od],styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";ul[_ngcontent-%COMP%]{list-style-type:none;padding:0%;width:80%;margin:3% auto 1%;display:flex;background-color:#2f424a;border:.1dvw solid #E8DAB2}li[_ngcontent-%COMP%]{padding:1%;width:25%;text-align:center;font-family:Bodoni Moda,serif;background-color:#2f424a;font-size:1.5dvw;color:#e8dab2;border:.1dvw solid #2f424a}li[_ngcontent-%COMP%]:hover{border-bottom:.1dvw solid #E8DAB2;cursor:pointer}li.active[_ngcontent-%COMP%]{background-color:#e8dab2;color:#2f424a;border:.1dvw solid #2f424a}a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}']})}return h})()},6208:(m,l,i)=>{i.d(l,{m:()=>h});var r=i(6814),c=i(180),u=i(2029);let h=(()=>{class d{static#t=this.\u0275fac=function(e){return new(e||d)};static#e=this.\u0275mod=u.oAB({type:d});static#s=this.\u0275inj=u.cJS({imports:[r.ez,c.Bz,r.ez]})}return d})()}}]);