"use strict";(self.webpackChunkping_pong_frontend=self.webpackChunkping_pong_frontend||[]).push([[302],{5302:(Re,v,g)=>{g.r(v),g.d(v,{ChatModule:()=>He});var h=g(6814),m=g(180),e=g(2029),r=g(4984),f=g(7522),k=g(9862),P=g(3227);let p=(()=>{class o{constructor(n,i){this.http=n,this.socket=i,this.domain=f._}findUser(n){return this.http.get(`${this.domain}/user/find-by-username?username=${n}`,{withCredentials:!0})}requestChannels(){this.socket.emit(r.pD)}requestUserChannels(){this.socket.emit(r.ae)}requestChannelUsers(n){this.socket.emit(r.$,{cId:n})}createChannel(n){this.socket.emit(r.JV,n)}joinChannel(n){this.socket.emit(r.OR,n)}acceptPrivateInvite(n,i){this.socket.emit(r.wY,{cId:Number(n),msgId:i})}declineChannelInvite(n,i){this.socket.emit(r.v_,{cId:Number(n),msgId:i})}leaveChannel(n){this.socket.emit(r.In,n)}sendMessage(n,i){this.socket.emit(r.$B,{cId:n,content:i})}requestChannelMessages(n){this.socket.emit(r.dO,{cId:n})}exitChannel(n){this.socket.emit(r.In,{cId:n})}sendDM(n,i,t,a){this.socket.emit(r.qd,{uId:n,text:i,inviteType:t,inviteId:a})}manageUserModeration(n,i,t){switch(n){case r.xd:this.socket.emit(r.xd,{uId:i});break;case r.rO:this.socket.emit(r.rO,{uId:i});break;case r.Q2:this.socket.emit(r.Q2,{cId:t,uId:i});break;case r.Gg:this.socket.emit(r.Gg,{cId:t,uId:i});break;case r.jx:this.socket.emit(r.jx,{cId:t,uId:i});break;case r.Ry:this.socket.emit(r.Ry,{cId:t,uId:i});break;case r.JB:this.socket.emit(r.JB,{cId:t,uId:i});break;case r.A$:this.socket.emit(r.A$,{cId:t,uId:i})}}onError(){return this.socket.fromEvent(r.pn)}onSuccess(){this.socket.on(r.MR,n=>{console.log(n)})}getUsersChannels(){return this.socket.fromEvent(r.ae)}getChannels(){return this.socket.fromEvent(r.pD)}getChannelUsers(){return this.socket.fromEvent(r.$)}getChannelMessages(){return this.socket.fromEvent(r.dO)}getIncomingMessages(){return this.socket.fromEvent(r.$B)}static#e=this.\u0275fac=function(i){return new(i||o)(e.LFG(k.eN),e.LFG(P._g))};static#n=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Z=g(833);let E=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-error-message"]],inputs:{message:"message"},decls:5,vars:1,consts:[[1,"error-message-border"],[1,"error-message"],["src","data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='1126.000000pt' viewBox='0 0 1280.000000 1126.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,1126.000000) scale(0.100000,-0.100000)'%0Afill='%23e8dab2' stroke='none'%3E%3Cpath d='M6201 11240 c-41 -10 -113 -37 -160 -61 -70 -35 -105 -62 -187 -144%0A-61 -60 -124 -134 -157 -185 -85 -132 -681 -1182 -2962 -5215 -793 -1402%0A-1714 -3032 -2047 -3620 -333 -589 -617 -1098 -631 -1131 -79 -187 -72 -394%0A19 -559 15 -28 64 -86 108 -130 91 -90 177 -139 306 -175 l76 -20 5879 2 5880%0A3 81 27 c363 124 494 499 304 878 -21 43 -899 1580 -1951 3417 -1052 1836%0A-2308 4029 -2791 4873 -484 844 -909 1580 -946 1635 -118 177 -268 311 -419%0A373 -125 52 -272 64 -402 32z m1607 -3410 c793 -1383 2019 -3523 2724 -4755%0Al1283 -2240 -2712 -3 c-1492 -1 -3934 -1 -5427 0 l-2715 3 1666 2945 c3188%0A5637 3725 6583 3734 6572 4 -4 655 -1139 1447 -2522z'/%3E%3Cpath d='M6290 7874 c-14 -3 -61 -14 -104 -25 -390 -98 -706 -474 -706 -837 0%0A-46 22 -254 50 -461 27 -207 113 -857 190 -1446 201 -1535 199 -1517 216%0A-1581 42 -165 141 -297 271 -361 67 -33 86 -38 168 -41 152 -7 246 30 348 136%0A99 105 144 224 176 464 11 84 61 462 111 841 49 378 131 996 180 1375 50 378%0A100 756 111 840 24 182 25 305 4 387 -82 323 -360 599 -693 686 -75 20 -266%0A33 -322 23z'/%3E%3Cpath d='M6322 2739 c-345 -44 -594 -371 -552 -726 20 -166 86 -301 204 -410%0A114 -107 237 -160 391 -170 187 -11 336 47 475 187 134 134 192 273 193 465 1%0A116 -13 183 -58 280 -120 261 -379 409 -653 374z'/%3E%3C/g%3E%3C/svg%3E%0A"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"p"),e._uU(4),e.qZA()()()),2&i&&(e.xp6(4),e.hij("Achtung! ",t.message,""))},styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";.error-message-border[_ngcontent-%COMP%]{position:absolute;align-items:center;justify-content:center;z-index:3;border:.4dvw solid #E8DAB2;box-sizing:border-box;filter:drop-shadow(0 1px 2px rgba(0,0,0,.8));left:50%;transform:translate(-50%)}img[_ngcontent-%COMP%]{width:3dvw;margin-left:2dvw;margin-right:.8dvw}.error-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;box-sizing:border-box;background-color:#b04343;padding:5% 4%}p[_ngcontent-%COMP%]{margin-right:2dvw;font-family:Quattrocento,serif;font-weight:bolder;width:auto;color:#e8dab2;font-size:1.5dvw;white-space:nowrap}']})}return o})();function U(o,s){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.qZA())}function S(o,s){1&o&&(e.TgZ(0,"div",8),e._UZ(1,"img",9),e.qZA())}function I(o,s){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"img",11),e.qZA())}function J(o,s){if(1&o&&(e.TgZ(0,"div",12),e._UZ(1,"img",13),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.hYB("src","",n.domain,"/user/image/",null==n.channel?null:n.channel.avatar,"",e.LSH)}}let N=(()=>{class o{constructor(){this.isSelected=!1,this.domain=f._}static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-sidebar-channel"]],inputs:{channel:"channel",isSelected:"isSelected"},decls:7,vars:7,consts:[[1,"channel"],["class","type-protected",4,"ngIf"],["class","type-public",4,"ngIf"],["class","type-private",4,"ngIf"],["class","type-direct",4,"ngIf"],[1,"name"],[1,"type-protected"],["src","data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='640.000000pt' viewBox='0 0 1280.000000 640.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,640.000000) scale(0.100000,-0.100000)'%0Afill='%234F6D7A' stroke='none'%3E%3Cpath d='M2730 6293 c-193 -15 -465 -69 -652 -129 -1035 -332 -1795 -1203%0A-2012 -2304 -49 -250 -60 -367 -60 -660 0 -294 11 -412 60 -660 124 -621 448%0A-1221 878 -1626 447 -422 983 -684 1591 -780 137 -21 482 -30 631 -15 670 66%0A1230 335 1720 825 256 257 458 537 609 847 l57 116 311 -179 c404 -233 418%0A-240 494 -246 83 -6 159 29 208 97 69 94 70 109 67 550 l-4 394 234 -6 c128%0A-4 287 -7 353 -7 l120 0 265 -251 c146 -137 278 -257 294 -265 15 -9 39 -13%0A51 -10 13 3 177 162 364 353 l341 346 21 -19 c12 -10 146 -138 298 -283 152%0A-145 290 -272 306 -282 27 -17 52 -19 277 -19 147 0 258 4 275 10 15 6 171%0A153 345 327 l317 317 53 -46 c29 -24 131 -111 227 -191 l174 -147 86 1 c47 0%0A202 6 343 12 l257 12 73 70 c40 38 172 165 293 281 121 116 342 322 490 458%0A295 271 315 291 315 322 0 28 -42 134 -84 207 -119 212 -365 399 -766 583%0Al-105 48 -330 -2 c-301 -2 -1520 -11 -3995 -31 -509 -4 -928 -5 -932 -2 -3 4%0A-12 110 -18 236 -14 287 -22 352 -52 411 -75 151 -298 215 -459 133 -20 -10%0A-155 -115 -300 -234 -145 -118 -266 -215 -270 -215 -3 0 -15 21 -28 48 -38 78%0A-130 231 -198 330 -462 666 -1133 1111 -1873 1241 -199 35 -468 49 -660 34z'/%3E%3C/g%3E%3C/svg%3E%0A"],[1,"type-public"],["src","data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='870.000000pt' viewBox='0 0 1280.000000 870.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,870.000000) scale(0.100000,-0.100000)'%0Afill='%234F6D7A' stroke='none'%3E%3Cpath d='M2765 8694 c-16 -2 -66 -9 -110 -15 -590 -78 -1135 -462 -1418 -999%0A-317 -601 -293 -1314 63 -1895 252 -412 684 -729 1155 -849 256 -65 595 -73%0A842 -22 299 63 585 195 810 374 43 35 52 48 58 84 70 461 256 851 575 1207%0A102 114 104 122 90 334 -46 681 -444 1280 -1055 1585 -264 132 -505 190 -810%0A197 -93 2 -183 1 -200 -1z'/%3E%3Cpath d='M9715 8694 c-16 -2 -66 -9 -110 -15 -379 -50 -763 -237 -1054 -514%0A-274 -261 -478 -636 -551 -1010 -23 -124 -40 -343 -32 -425 5 -51 10 -60 86%0A-145 106 -118 171 -201 239 -305 165 -256 284 -557 331 -845 16 -94 19 -102%0A54 -134 65 -59 243 -171 367 -232 143 -69 292 -120 458 -155 167 -35 437 -43%0A617 -20 439 58 821 252 1130 572 678 704 716 1796 89 2549 -291 349 -703 583%0A-1159 660 -91 15 -402 28 -465 19z'/%3E%3Cpath d='M6140 6944 c-762 -104 -1397 -670 -1590 -1420 -290 -1124 491 -2246%0A1652 -2373 1024 -112 1966 636 2093 1662 47 383 -16 749 -192 1096 -286 568%0A-828 954 -1456 1036 -144 18 -365 18 -507 -1z'/%3E%3Cpath d='M11300 5039 c-230 -188 -512 -337 -792 -418 -445 -128 -902 -120%0A-1340 26 -129 42 -348 143 -464 212 l-51 31 -7 -67 c-26 -268 -109 -548 -233%0A-793 -96 -187 -196 -331 -365 -523 -39 -44 -41 -49 -24 -59 126 -70 451 -373%0A578 -538 247 -321 435 -707 578 -1187 l34 -113 1793 0 1793 0 0 75 c0 123 -19%0A407 -41 600 -88 791 -320 1565 -610 2030 -190 305 -447 577 -719 762 l-45 31%0A-85 -69z'/%3E%3Cpath d='M1354 5057 c-179 -123 -414 -346 -540 -512 -94 -124 -206 -298 -273%0A-425 -300 -572 -504 -1455 -537 -2323 l-7 -187 1794 2 1793 3 41 135 c228 745%0A560 1254 1060 1627 55 41 101 78 103 82 1 4 -25 37 -58 74 -311 339 -517 792%0A-572 1256 l-12 101 -50 -31 c-116 -69 -335 -170 -464 -212 -655 -218 -1363%0A-126 -1937 251 -66 43 -154 106 -195 140 -41 34 -77 62 -80 61 -3 0 -32 -19%0A-66 -42z'/%3E%3Cpath d='M7730 3229 c-156 -119 -405 -249 -609 -318 -388 -131 -832 -153%0A-1231 -60 -278 64 -565 194 -798 361 -51 37 -89 58 -98 54 -37 -14 -202 -135%0A-302 -221 -96 -83 -205 -199 -314 -336 -69 -86 -199 -294 -262 -419 -210 -414%0A-377 -1014 -461 -1662 -19 -151 -45 -469 -45 -559 l0 -69 2792 0 2791 0 -6%0A148 c-30 686 -198 1451 -439 2002 -202 462 -488 823 -849 1070 -48 33 -91 60%0A-96 59 -4 0 -37 -23 -73 -50z'/%3E%3C/g%3E%3C/svg%3E%0A"],[1,"type-private"],["src","data:image/svg+xml,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3C!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --%3E%3Ctitle%3Eic_fluent_incognito_24_filled%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cg fill='none' fill-rule='evenodd' id='\u{1f50d}-Product-Icons'%3E%3Cg fill='%23212121' fill-rule='nonzero' id='ic_fluent_incognito_24_filled'%3E%3Cpath d='m17.5,11.75c2.62335,0 4.75,2.12665 4.75,4.75c0,2.62335 -2.12665,4.75 -4.75,4.75c-2.09801,0 -3.87834,-1.36019 -4.50724,-3.24683l-1.98552,0c-0.6289,1.88664 -2.40923,3.24683 -4.50724,3.24683c-2.62335,0 -4.75,-2.12665 -4.75,-4.75c0,-2.62335 2.12665,-4.75 4.75,-4.75c2.45458,0 4.47431,1.86182 4.72403,4.25029l1.55194,0c0.24972,-2.38847 2.26945,-4.25029 4.72403,-4.25029zm-11,2c-1.51878,0 -2.75,1.23122 -2.75,2.75c0,1.51878 1.23122,2.75 2.75,2.75c1.51878,0 2.75,-1.23122 2.75,-2.75c0,-1.51878 -1.23122,-2.75 -2.75,-2.75zm11,0c-1.51878,0 -2.75,1.23122 -2.75,2.75c0,1.51878 1.23122,2.75 2.75,2.75c1.51878,0 2.75,-1.23122 2.75,-2.75c0,-1.51878 -1.23122,-2.75 -2.75,-2.75zm-1.98806,-10.75c1.21442,0 2.28506,0.79659 2.63402,1.95979l1.00611,3.35114c0.79255,0.13192 1.56821,0.28712 2.32697,0.46565c0.5376,0.1265 0.87087,0.66486 0.74438,1.20246c-0.1265,0.5376 -0.66486,0.87087 -1.20246,0.74438c-2.75554,-0.64836 -5.7623,-0.97342 -9.02096,-0.97342c-3.25866,0 -6.26542,0.32506 -9.02096,0.97342c-0.5376,0.12649 -1.07596,-0.20678 -1.20246,-0.74438c-0.12649,-0.5376 0.20678,-1.07596 0.74438,-1.20246c0.75844,-0.17845 1.53377,-0.3336 2.32597,-0.46548l1.00711,-3.35131c0.34896,-1.1632 1.4196,-1.95979 2.63402,-1.95979l7.02388,0z' fill='%234f6d7a' id='\u{1f3a8}-Color'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E"],[1,"type-direct"],[3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e.YNc(1,U,2,0,"div",1),e.YNc(2,S,2,0,"div",2),e.YNc(3,I,2,0,"div",3),e.YNc(4,J,2,2,"div",4),e.TgZ(5,"div",5),e._uU(6),e.qZA()()),2&i&&(e.ekj("selected-channel",t.isSelected),e.xp6(1),e.Q6J("ngIf","protected"==(null==t.channel?null:t.channel.type)),e.xp6(1),e.Q6J("ngIf","public"==(null==t.channel?null:t.channel.type)),e.xp6(1),e.Q6J("ngIf","private"==(null==t.channel?null:t.channel.type)),e.xp6(1),e.Q6J("ngIf","direct"==(null==t.channel?null:t.channel.type)),e.xp6(2),e.Oqu(null==t.channel?null:t.channel.name))},dependencies:[h.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Quattrocento:wght@700&display=swap";.channel[_ngcontent-%COMP%]{background-color:#e8dab2;padding:1.1dvw;border:.1dvw solid #E8DAB2;margin-bottom:.17dvw;display:flex;align-items:center}.channel[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e9d5a1;border:.1dvw solid #e9d5a1}.channel[_ngcontent-%COMP%]   .type-protected[_ngcontent-%COMP%]{width:13%;position:relative}.channel[_ngcontent-%COMP%]   .type-protected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5dvw;position:absolute}.channel[_ngcontent-%COMP%]   .type-public[_ngcontent-%COMP%], .channel[_ngcontent-%COMP%]   .type-private[_ngcontent-%COMP%]{width:13%}.channel[_ngcontent-%COMP%]   .type-public[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .channel[_ngcontent-%COMP%]   .type-private[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5dvw}.type-direct[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:.05dvw solid #2f424a;border-radius:50%;background-size:cover;height:2dvw;width:2dvw}.channel[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding-left:.3dvw;width:90%;font-family:Quattrocento,serif;font-size:1dvw;font-weight:700;color:#4f6d7a;text-overflow:ellipsis;overflow:hidden}.selected-channel[_ngcontent-%COMP%]{background-color:#2f424a;padding:1.1dvw;display:flex;border:.1dvw solid #E8DAB2}.selected-channel[_ngcontent-%COMP%]:hover{background-color:#2f424a}.selected-channel[_ngcontent-%COMP%]   .type-protected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .selected-channel[_ngcontent-%COMP%]   .type-public[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .selected-channel[_ngcontent-%COMP%]   .type-private[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) saturate(100%) invert(83%) sepia(14%) saturate(475%) hue-rotate(7deg) brightness(104%) contrast(92%)}.selected-channel[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e8dab2}']})}return o})();function q(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"ul",3)(1,"li",4),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createNewChannel("private"))}),e._uU(2,"Create a private channel"),e.qZA(),e.TgZ(3,"li",4),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createNewChannel("protected"))}),e._uU(4,"Create a password protected channel"),e.qZA(),e.TgZ(5,"li",4),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createNewChannel("public"))}),e._uU(6,"Create a public channel"),e.qZA(),e.TgZ(7,"li",4),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createNewDM())}),e._uU(8,"Create a DM with another user"),e.qZA()()}}let D=(()=>{class o{constructor(n){this.el=n,this.createChannelEvent=new e.vpe,this.createDmEvent=new e.vpe,this.isDropdownSelected=!1}createNewChannel(n){this.createChannelEvent.emit(n),this.isDropdownSelected=!1}createNewDM(){this.createDmEvent.emit(!0),this.isDropdownSelected=!1}toggleDropdown(){this.isDropdownSelected=!this.isDropdownSelected}closeDropdownOnClickOutside(n){this.isDropdownSelected&&!this.el.nativeElement.contains(n.target)&&(this.isDropdownSelected=!1)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.SBq))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-channel-button"]],hostBindings:function(i,t){1&i&&e.NdJ("click",function(c){return t.closeDropdownOnClickOutside(c)},!1,e.evT)},outputs:{createChannelEvent:"createChannelEvent",createDmEvent:"createDmEvent"},decls:3,vars:3,consts:[[1,"dropdown"],["src","data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='1280.000000pt' viewBox='0 0 1280.000000 1280.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,1280.000000) scale(0.100000,-0.100000)'%0Afill='%234F6D7A' stroke='none'%3E%3Cpath d='M5740 12784 c-199 -42 -369 -198 -438 -399 l-27 -80 -3 -2387 -2%0A-2388 -2356 0 c-2619 0 -2435 5 -2584 -68 -104 -50 -212 -158 -263 -263 -66%0A-134 -67 -146 -67 -799 0 -651 2 -666 66 -795 69 -141 187 -243 344 -299 l85%0A-31 2387 -3 2388 -2 2 -2388 3 -2387 28 -80 c73 -206 239 -357 443 -400 101%0A-21 1207 -21 1308 0 204 43 370 194 443 400 l28 80 3 2387 2 2388 2388 2 2387%0A3 85 31 c157 56 275 158 344 299 64 129 66 144 66 795 0 653 -1 665 -67 799%0A-51 105 -159 213 -263 263 -149 73 35 68 -2584 68 l-2356 0 -2 2388 -3 2387%0A-27 80 c-70 203 -240 357 -443 400 -100 21 -1217 20 -1315 -1z'/%3E%3C/g%3E%3C/svg%3E%0A",1,"dd-button",3,"click"],["class","dd-menu",4,"ngIf"],[1,"dd-menu"],[3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"label",0)(1,"img",1),e.NdJ("click",function(){return t.toggleDropdown()}),e.qZA(),e.YNc(2,q,9,0,"ul",2),e.qZA()),2&i&&(e.xp6(1),e.ekj("dd-button-clicked",t.isDropdownSelected),e.xp6(1),e.Q6J("ngIf",t.isDropdownSelected))},dependencies:[h.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Quattrocento:wght@700&display=swap";.dropdown[_ngcontent-%COMP%]{display:inline-block;position:relative}.dd-button[_ngcontent-%COMP%]{appearance:none;width:77%;padding:.3dvw;display:inline;cursor:pointer;white-space:nowrap;background-color:#e8dab2;border-radius:4dvw;width:2.3dvw;height:2.3dvw;transform:rotate(0);animation:_ngcontent-%COMP%_rotate-backward 1s 1 cubic-bezier(.075,.82,.165,1)}.dd-button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.dd-menu[_ngcontent-%COMP%]{position:absolute;top:2.7dvw;border:.1dvw solid #E8DAB2;border-bottom:none;padding:0;background-color:#2f424a;list-style-type:none;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8))}.dd-button-clicked[_ngcontent-%COMP%]{background-color:#e9d5a1;transform:rotate(45deg);animation:_ngcontent-%COMP%_rotate-forward 1s 1 cubic-bezier(.075,.82,.165,1)}@keyframes _ngcontent-%COMP%_rotate-forward{0%{transform:rotate(0)}to{transform:rotate(45deg)}}@keyframes _ngcontent-%COMP%_rotate-backward{0%{transform:rotate(45deg)}to{transform:rotate(0)}}.dd-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-weight:700;font-size:1dvw;color:#e8dab2;padding:.5dvw 1dvw;cursor:pointer;white-space:nowrap;border-bottom:.1dvw solid #E8DAB2}.dd-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e8dab2;color:#2f424a}']})}return o})(),z=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-default-content"]],decls:7,vars:0,consts:[[1,"default-content"],[1,"create-channel"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Le Chat."),e.qZA(),e.TgZ(3,"h2"),e._uU(4,"Press on one of the channels on the sidebar to start chatting or the "),e._UZ(5,"span",1),e._uU(6," button to create a new channel."),e.qZA()())},styles:["@import\"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap\";.default-content[_ngcontent-%COMP%]{text-align:center;width:80%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}h1[_ngcontent-%COMP%]{font-family:Bodoni Moda,serif;font-size:5dvw;margin:0%;padding:0%;color:#2f424a}h2[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-size:1.5dvw;margin:0%;padding:0%;color:#2f424a}span[_ngcontent-%COMP%]{content:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='1280.000000pt' viewBox='0 0 1280.000000 1280.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,1280.000000) scale(0.100000,-0.100000)'%0Afill='%234F6D7A' stroke='none'%3E%3Cpath d='M5740 12784 c-199 -42 -369 -198 -438 -399 l-27 -80 -3 -2387 -2%0A-2388 -2356 0 c-2619 0 -2435 5 -2584 -68 -104 -50 -212 -158 -263 -263 -66%0A-134 -67 -146 -67 -799 0 -651 2 -666 66 -795 69 -141 187 -243 344 -299 l85%0A-31 2387 -3 2388 -2 2 -2388 3 -2387 28 -80 c73 -206 239 -357 443 -400 101%0A-21 1207 -21 1308 0 204 43 370 194 443 400 l28 80 3 2387 2 2388 2388 2 2387%0A3 85 31 c157 56 275 158 344 299 64 129 66 144 66 795 0 653 -1 665 -67 799%0A-51 105 -159 213 -263 263 -149 73 35 68 -2584 68 l-2356 0 -2 2388 -3 2387%0A-27 80 c-70 203 -240 357 -443 400 -100 21 -1217 20 -1315 -1z'/%3E%3C/g%3E%3C/svg%3E%0A\");width:5dvw;padding:.1em;display:inline;white-space:nowrap;background-color:#9d9377;border-radius:4em;width:.7em;height:.7em}"]})}return o})();var d=g(6223),w=g(399);function Q(o,s){if(1&o&&(e.TgZ(0,"div",4)(1,"div",5)(2,"div",6),e._uU(3),e.qZA()()()),2&o){const n=e.oxw();e.xp6(3),e.Oqu(null==n.msg?null:n.msg.content)}}function B(o,s){if(1&o&&(e.TgZ(0,"div",7)(1,"div",8)(2,"div",6),e._uU(3),e.qZA()()()),2&o){const n=e.oxw();e.xp6(3),e.Oqu(null==n.msg?null:n.msg.content)}}function F(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"span")(1,"button",12),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.acceptInvite())}),e._uU(2,"Accept"),e.qZA(),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.declineInvite())}),e._uU(4,"Reject"),e.qZA()()}}function Y(o,s){if(1&o&&(e.TgZ(0,"div",9)(1,"div",10),e._uU(2),e.qZA(),e.TgZ(3,"div",6),e._uU(4),e.qZA(),e.YNc(5,F,5,0,"span",11),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Oqu(null==n.msg||null==n.msg.user?null:n.msg.user.username),e.xp6(2),e.Oqu(null==n.msg?null:n.msg.content),e.xp6(1),e.Q6J("ngIf",null==n.msg?null:n.msg.inviteId)}}function G(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"span")(1,"button",12),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.acceptInvite())}),e._uU(2,"Accept"),e.qZA(),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.declineInvite())}),e._uU(4,"Reject"),e.qZA()()}}function j(o,s){if(1&o&&(e.TgZ(0,"div",13)(1,"div",6),e._uU(2),e.qZA(),e.YNc(3,G,5,0,"span",11),e.qZA()),2&o){const n=e.oxw();e.xp6(2),e.Oqu(null==n.msg?null:n.msg.content),e.xp6(1),e.Q6J("ngIf",null==n.msg?null:n.msg.inviteId)}}let H=(()=>{class o{constructor(n,i,t){this.chatService=n,this.gameService=i,this.router=t,this.sameSender=!1}acceptInvite(){this.msg?.inviteType===r.rE&&this.msg.inviteId?this.chatService.acceptPrivateInvite(String(this.msg.inviteId),this.msg.id):this.msg?.inviteType===r.pl&&this.msg.inviteId&&(this.gameService.acceptInvite(this.msg.user.id,Number(this.msg.inviteId)),this.router.navigate(["/game",{invite:!1,accept:!0}]))}declineInvite(){this.msg?.inviteType===r.rE&&this.msg.inviteId&&this.chatService.declineChannelInvite(String(this.msg.inviteId),this.msg.id)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p),e.Y36(w.h),e.Y36(m.F0))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-message"]],inputs:{msg:"msg",sameSender:"sameSender"},decls:4,vars:4,consts:[["class","message-session-user-container",4,"ngIf"],["class","message-session-user-same-sender-container",4,"ngIf"],["class","message",4,"ngIf"],["class","message-same-sender",4,"ngIf"],[1,"message-session-user-container"],[1,"message-session-user"],[1,"message-content"],[1,"message-session-user-same-sender-container"],[1,"message-session-user-same-sender"],[1,"message"],[1,"message-sender"],[4,"ngIf"],[3,"click"],[1,"message-same-sender"]],template:function(i,t){1&i&&(e.YNc(0,Q,4,1,"div",0),e.YNc(1,B,4,1,"div",1),e.YNc(2,Y,6,3,"div",2),e.YNc(3,j,4,2,"div",3)),2&i&&(e.Q6J("ngIf",0==t.sameSender&&1==(null==t.msg?null:t.msg.sessionUser)),e.xp6(1),e.Q6J("ngIf",1==t.sameSender&&1==(null==t.msg?null:t.msg.sessionUser)),e.xp6(1),e.Q6J("ngIf",0==t.sameSender&&0==(null==t.msg?null:t.msg.sessionUser)),e.xp6(1),e.Q6J("ngIf",1==t.sameSender&&0==(null==t.msg?null:t.msg.sessionUser)))},dependencies:[h.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Quattrocento:wght@700&display=swap";.message-session-user-container[_ngcontent-%COMP%]{clear:both;display:flex;flex-direction:row-reverse;margin-right:0;max-width:100%}.message-session-user[_ngcontent-%COMP%]{display:inline-block;padding:.7dvw 1.2dvw;margin-bottom:.5dvw;background-color:#cbe8ef;border-radius:1.5dvw 0dvw 1.5dvw 1.5dvw;line-height:1.5;word-wrap:break-word;max-width:60%}.message-session-user-same-sender-container[_ngcontent-%COMP%]{clear:both;float:right;max-width:60%}.message-session-user-same-sender[_ngcontent-%COMP%]{display:inline-block;padding:.7dvw 1.2dvw;margin-bottom:.5dvw;background-color:#cbe8ef;border-radius:1.5dvw;line-height:1.5;word-wrap:break-word;max-width:60%}.message[_ngcontent-%COMP%]{display:inline-block;padding-left:1.2dvw;padding-right:1.2dvw;padding-bottom:.7dvw;padding-top:.7em;margin-bottom:.5dvw;background-color:#e8dab2;border-radius:0dvw 1.5dvw 1.5dvw;max-width:60%;line-height:1.5;word-wrap:break-word}.message-same-sender[_ngcontent-%COMP%]{display:inline-block;padding:.7dvw 1.2dvw;margin-bottom:.5dvw;background-color:#e8dab2;border-radius:1.5dvw;max-width:60%;line-height:1.5;word-wrap:break-word}.message-sender[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-size:1dvw;font-weight:700;color:#4f6d7a}.message-content[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-weight:700;font-size:.9dvw;color:#423b0b;white-space:pre-wrap}']})}return o})();var l=g(6825),K=g(7394);class R extends K.w0{constructor(s,n){super()}schedule(s,n=0){return this}}const C={setInterval(o,s,...n){const{delegate:i}=C;return i?.setInterval?i.setInterval(o,s,...n):setInterval(o,s,...n)},clearInterval(o){const{delegate:s}=C;return(s?.clearInterval||clearInterval)(o)},delegate:void 0};var $=g(9039);const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class _{constructor(s,n=_.now){this.schedulerActionCtor=s,this.now=n}schedule(s,n=0,i){return new this.schedulerActionCtor(this,s).schedule(i,n)}}_.now=b.now;const X=new class V extends _{constructor(s,n=_.now){super(s,n),this.actions=[],this._active=!1}flush(s){const{actions:n}=this;if(this._active)return void n.push(s);let i;this._active=!0;do{if(i=s.execute(s.state,s.delay))break}while(s=n.shift());if(this._active=!1,i){for(;s=n.shift();)s.unsubscribe();throw i}}}(class L extends R{constructor(s,n){super(s,n),this.scheduler=s,this.work=n,this.pending=!1}schedule(s,n=0){var i;if(this.closed)return this;this.state=s;const t=this.id,a=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(a,t,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,n),this}requestAsyncId(s,n,i=0){return C.setInterval(s.flush.bind(s,this),i)}recycleAsyncId(s,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&C.clearInterval(n)}execute(s,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(s,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,n){let t,i=!1;try{this.work(s)}catch(a){i=!0,t=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),t}unsubscribe(){if(!this.closed){const{id:s,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.P)(i,this),null!=s&&(this.id=this.recycleAsyncId(n,s,null)),this.delay=null,super.unsubscribe()}}});var W=g(9360),ee=g(8251);function M(o,s=X){return(0,W.e)((n,i)=>{let t=null,a=null,c=null;const y=()=>{if(t){t.unsubscribe(),t=null;const u=a;a=null,i.next(u)}};function Ke(){const u=c+o,A=s.now();if(A<u)return t=this.schedule(void 0,u-A),void i.add(t);y()}n.subscribe((0,ee.x)(i,u=>{a=u,c=s.now(),t||(t=s.schedule(Ke,o),i.add(t))},()=>{y(),i.complete()},void 0,()=>{a=t=null}))})}var x=g(3997),O=g(4664),T=g(9397),ne=g(3528);function te(o,s){1&o&&(e.TgZ(0,"div",7),e._uU(1,"owner"),e.qZA())}function oe(o,s){1&o&&(e.TgZ(0,"div",8),e._uU(1,"admin"),e.qZA())}function ie(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"easy"),e.qZA())}function se(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"medium"),e.qZA())}function ae(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"hard"),e.qZA())}function re(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.mute))}),e._uU(1," Mute "),e.qZA()}}function ce(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.kick))}),e._uU(1," Kick "),e.qZA()}}function le(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.ban))}),e._uU(1," Ban "),e.qZA()}}function de(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.unban))}),e._uU(1," Unban "),e.qZA()}}function ge(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.promote))}),e._uU(1," Promote to admin "),e.qZA()}}function he(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(3);return e.KtG(t.manageUserModeration(t.demote))}),e._uU(1," Revoke admin rights "),e.qZA()}}const pe=function(o){return["/profile",o]};function ue(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"ul",12)(1,"li",13),e._uU(2," View profile "),e.qZA(),e.TgZ(3,"li",14),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.sendGameInvite())}),e._uU(4," Invite to "),e.YNc(5,ie,2,0,"span",15),e.YNc(6,se,2,0,"span",15),e.YNc(7,ae,2,0,"span",15),e._uU(8," game "),e.TgZ(9,"img",16),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(2);return e.KtG(a.toggleGameMode(t))}),e.qZA()(),e.TgZ(10,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.manageUserModeration(t.block))}),e._uU(11," Block "),e.qZA(),e.TgZ(12,"li",17),e.NdJ("click",function(){e.CHM(n);const t=e.oxw(2);return e.KtG(t.manageUserModeration(t.unblock))}),e._uU(13," Unblock "),e.qZA(),e.YNc(14,re,2,0,"li",18),e.YNc(15,ce,2,0,"li",18),e.YNc(16,le,2,0,"li",18),e.YNc(17,de,2,0,"li",18),e.YNc(18,ge,2,0,"li",18),e.YNc(19,he,2,0,"li",18),e.qZA()}if(2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("routerLink",e.VKq(10,pe,null==n.user?null:n.user.id)),e.xp6(4),e.Q6J("ngIf",1===n.inviteGameMode),e.xp6(1),e.Q6J("ngIf",2===n.inviteGameMode),e.xp6(1),e.Q6J("ngIf",3===n.inviteGameMode),e.xp6(7),e.Q6J("ngIf",n.currentIsAdmin()&&!n.userIsAdmin()||n.currentIsOwner()),e.xp6(1),e.Q6J("ngIf",n.currentIsAdmin()&&!n.userIsAdmin()||n.currentIsOwner()),e.xp6(1),e.Q6J("ngIf",n.currentIsAdmin()&&!n.userIsAdmin()||n.currentIsOwner()),e.xp6(1),e.Q6J("ngIf",n.currentIsAdmin()&&!n.userIsAdmin()||n.currentIsOwner()),e.xp6(1),e.Q6J("ngIf",n.currentIsOwner()&&!n.userIsAdmin()),e.xp6(1),e.Q6J("ngIf",n.currentIsOwner()&&n.userIsAdmin())}}function me(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div",9)(1,"img",10),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.toggleDropdown())}),e.qZA(),e.YNc(2,ue,20,12,"ul",11),e.qZA()}if(2&o){const n=e.oxw();e.xp6(1),e.ekj("dd-button-up",n.isDropdownSelected),e.xp6(1),e.Q6J("ngIf",n.isDropdownSelected)}}let _e=(()=>{class o{constructor(n,i,t,a){this.chatService=n,this.gameService=i,this.router=t,this.el=a,this.block=r.xd,this.unblock=r.rO,this.mute=r.Q2,this.ban=r.Gg,this.unban=r.jx,this.kick=r.Ry,this.promote=r.JB,this.demote=r.A$,this.domain=f._,this.isDropdownSelected=!1,this.inviteGameMode=1}toggleDropdown(){this.isDropdownSelected=!this.isDropdownSelected}closeDropdownOnClickOutside(n){this.isDropdownSelected&&!this.el.nativeElement.contains(n.target)&&(this.isDropdownSelected=!1)}userIsOwner(){return this.channel?.owner?.id===this.user?.id}currentIsOwner(){return this.channel?.owner?.id===this.currentUser?.id}userIsAdmin(){return this.channel?.admins?.some(n=>n.id===this.user?.id)||!1}currentIsAdmin(){return this.channel?.admins?.some(n=>n.id===this.currentUser?.id)||!1}sendDM(){this.user&&this.chatService.sendDM(this.user.id,"Hey")}toggleGameMode(n){n.stopPropagation(),this.inviteGameMode<3?this.inviteGameMode++:this.inviteGameMode=1}sendGameInvite(){this.user&&(this.chatService.sendDM(this.user.id,"Hey, I'd like to play a game with you",r.pl,this.inviteGameMode),this.gameService.inviteToMatch(this.user.id,this.inviteGameMode),this.router.navigate(["/game",{invite:!0,accept:!1}]))}manageUserModeration(n){!this.user||!this.channel||(this.chatService.manageUserModeration(n,this.user.id,this.channel?.id),this.isDropdownSelected=!1)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p),e.Y36(w.h),e.Y36(m.F0),e.Y36(e.SBq))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-channel-user"]],hostBindings:function(i,t){1&i&&e.NdJ("click",function(c){return t.closeDropdownOnClickOutside(c)},!1,e.evT)},inputs:{user:"user",currentUser:"currentUser",channel:"channel"},decls:8,vars:6,consts:[[1,"user"],[1,"profile-pic"],[3,"src"],[1,"name"],["class","owner",4,"ngIf"],["class","admin",4,"ngIf"],["class","dropdown",4,"ngIf"],[1,"owner"],[1,"admin"],[1,"dropdown"],["src","data:image/svg+xml,%3Csvg width='1024' height='1024' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' class='svg-icon'%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cpath d='m952.16851,329.60386l-61.40554,-60.77825c-8.91402,-8.84034 -23.15434,-9.06138 -31.77468,-0.51779l-345.12741,328.74223l-352.08794,-342.56915c-8.72982,-8.65512 -23.12058,-8.43409 -32.10828,0.48198l-61.99803,61.36767c-9.02556,8.95189 -9.24864,23.1564 -0.51779,31.81152l430.9869,419.33451c8.69196,8.65615 23.08374,8.43306 32.10827,-0.51882l61.99701,-61.36767c1.4183,-1.405 2.58999,-2.95224 3.57236,-4.5793l356.83813,-339.92901c8.65512,-8.54256 8.43307,-22.67442 -0.483,-31.47792z' fill='%234f6d7a' id='svg_1'/%3E%3C/g%3E%3C/svg%3E",1,"dd-button",3,"click"],["class","dd-menu",4,"ngIf"],[1,"dd-menu"],[3,"routerLink"],[1,"game-invite",3,"click"],[4,"ngIf"],["src","data:image/svg+xml,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cpath d='m20,17l-16,0m0,0l4,-4m-4,4l4,4m-4,-14l16,0m0,0l-4,-4m4,4l-4,4' fill='black' id='svg_1' stroke='%23e8dab2' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'/%3E%3C/g%3E%3C/svg%3E",3,"click"],[3,"click"],[3,"click",4,"ngIf"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.YNc(5,te,2,0,"div",4),e.YNc(6,oe,2,0,"div",5),e.qZA(),e.YNc(7,me,3,3,"div",6),e.qZA()),2&i&&(e.xp6(2),e.hYB("src","",t.domain,"/user/image/",null==t.user?null:t.user.avatar,"",e.LSH),e.xp6(2),e.hij(" ",null==t.user?null:t.user.username," "),e.xp6(1),e.Q6J("ngIf",t.userIsOwner()),e.xp6(1),e.Q6J("ngIf",t.userIsAdmin()),e.xp6(1),e.Q6J("ngIf",(null==t.user?null:t.user.id)!==(null==t.currentUser?null:t.currentUser.id)))},dependencies:[h.O5,m.rH],styles:[".dropdown[_ngcontent-%COMP%]{position:absolute;right:5%}.user[_ngcontent-%COMP%]{position:relative;background-color:#e8dab2;padding:.5dvw;border:.1dvw solid #E8DAB2;margin-bottom:.17dvw;display:flex;align-items:center}.user[_ngcontent-%COMP%]:hover{background-color:#e9d5a1;border:.1dvw solid #e9d5a1}.dd-button[_ngcontent-%COMP%]{opacity:0%}.user[_ngcontent-%COMP%]:hover   .dd-button[_ngcontent-%COMP%]{opacity:100%;animation:_ngcontent-%COMP%_fade-in .7s 1 cubic-bezier(.075,.82,.165,1)}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0%}to{opacity:100%}}.dropdown[_ngcontent-%COMP%]   .dd-button[_ngcontent-%COMP%]{width:.9dvw}.dd-button-up[_ngcontent-%COMP%]{width:.9dvw;opacity:100%;rotate:180deg}.dd-button[_ngcontent-%COMP%]:hover, .dd-button-up[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-pic[_ngcontent-%COMP%]{display:flex;justify-content:center;width:25%}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:.05dvw solid #2f424a;border-radius:50%;background-size:cover;height:2dvw;width:2dvw;object-fit:cover;object-position:center}.name[_ngcontent-%COMP%]{padding-left:0dvw;width:75%;font-family:Quattrocento,serif;font-size:1dvw;font-weight:700;color:#4f6d7a;text-overflow:ellipsis;overflow:hidden}.owner[_ngcontent-%COMP%], .admin[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-size:.7dvw;font-style:italic;font-weight:700;color:#656e71}.dd-menu[_ngcontent-%COMP%]{position:absolute;top:-.8dvw;right:1.5dvw;border:.1dvw solid #E8DAB2;border-bottom:none;padding:0;background-color:#2f424a;list-style-type:none;z-index:1;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8))}.dd-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Quattrocento,serif;font-weight:700;font-size:.9dvw;color:#e8dab2;padding:.5dvw 1dvw;cursor:pointer;white-space:nowrap;border-bottom:.1dvw solid #E8DAB2}.dd-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e8dab2;color:#2f424a}.game-invite[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.game-invite[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.2dvw;margin-right:.2dvw}.game-invite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:.4dvw;background-color:#2f424a;border-radius:50%;border:.09dvw solid #E8DAB2;height:1dvw;width:1dvw}.game-invite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background-color:#212e34}"]})}return o})();function Ce(o,s){1&o&&(e.TgZ(0,"label",12),e._uU(1,"Change your channel's password:"),e.qZA())}function fe(o,s){1&o&&(e.TgZ(0,"div",13),e._UZ(1,"input",14),e.TgZ(2,"button",15),e._uU(3,"Change"),e.qZA()())}function ve(o,s){1&o&&(e.TgZ(0,"label",16),e._uU(1,"Search for user to invite:"),e.qZA())}function we(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div",20)(1,"span",21),e.NdJ("click",function(){const a=e.CHM(n).$implicit,c=e.oxw(2);return e.KtG(c.sendInviteToChannel(a.id))}),e._uU(2),e.qZA()()}if(2&o){const n=s.$implicit;e.xp6(2),e.hij(" ",n.username," ")}}function be(o,s){if(1&o&&(e.TgZ(0,"div",17),e._UZ(1,"input",18),e.YNc(2,we,3,1,"div",19),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("formControl",n.privateUserSearch),e.xp6(1),e.Q6J("ngForOf",n.searchedUsers)}}function Me(o,s){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-channel-user",22),e.qZA()),2&o){const n=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("user",n)("currentUser",i.currentUser)("channel",i.channel)}}let xe=(()=>{class o{constructor(n,i){this.chatService=n,this.profileService=i,this.isOpenChange=new e.vpe,this.channelChangeEvent=new e.vpe,this.users=[],this.privateUserSearch=new d.NI}ngOnInit(){this.profileService.getCurrentUser().subscribe(n=>this.currentUser=n),this.channel&&(this.chatService.requestChannelUsers(this.channel.id),this.chatService.getChannelUsers().subscribe(n=>{n.cId===this.channel?.id&&(this.users=n.users)})),this.privateUserSearch.valueChanges.pipe(M(500),(0,x.x)(),(0,O.w)(n=>this.chatService.findUser(n).pipe((0,T.b)(i=>{this.searchedUsers=i,console.log(i)})))).subscribe()}ngOnChanges(n){n.channel&&this.channel&&this.chatService.requestChannelUsers(this.channel.id)}exitChannel(){this.channel&&(this.chatService.exitChannel(this.channel.id),this.toggle(),this.channel=void 0,this.channelChangeEvent.emit(this.channel))}sendInviteToChannel(n){this.chatService.sendDM(n,`Hey, I'm inviting you to a super cool secret channel called ${this.channel?.name}`,r.rE,this.channel?.id)}toggle(){this.isOpen=!this.isOpen,this.isOpenChange.emit(this.isOpen)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p),e.Y36(ne.H))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-channel-messages-settings"]],inputs:{isOpen:"isOpen",channel:"channel"},outputs:{isOpenChange:"isOpenChange",channelChangeEvent:"channelChangeEvent"},features:[e.TTD],decls:17,vars:6,consts:[[1,"channel-messages-settings-border"],[1,"channel-messages-settings"],[1,"title"],["for","change-password",4,"ngIf"],["class","password-field-container",4,"ngIf"],["for","user-search",4,"ngIf"],["class","invite-to-channel",4,"ngIf"],[1,"users-container"],[4,"ngFor","ngForOf"],[1,"footer"],[1,"exit",3,"click"],[1,"close",3,"click"],["for","change-password"],[1,"password-field-container"],["type","password","id","change-password"],[1,"change-btn"],["for","user-search"],[1,"invite-to-channel"],["type","text","id","user-search",3,"formControl"],["class","name",4,"ngFor","ngForOf"],[1,"name"],[1,"user-dropdown",3,"click"],[3,"user","currentUser","channel"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Channel Settings."),e.qZA(),e.TgZ(4,"p"),e._uU(5,"To access the different options, hover over a user's name and click the dropdown menu."),e.qZA(),e.YNc(6,Ce,2,0,"label",3),e.YNc(7,fe,4,0,"div",4),e.YNc(8,ve,2,0,"label",5),e.YNc(9,be,3,2,"div",6),e.TgZ(10,"div",7),e.YNc(11,Me,2,3,"div",8),e.qZA(),e.TgZ(12,"div",9)(13,"button",10),e.NdJ("click",function(){return t.exitChannel()}),e._uU(14,"Exit channel"),e.qZA(),e.TgZ(15,"button",11),e.NdJ("click",function(){return t.toggle()}),e._uU(16,"Close"),e.qZA()()()()),2&i&&(e.Q6J("@openClose",t.isOpen?"open":"closed"),e.xp6(6),e.Q6J("ngIf",(null==t.channel?null:t.channel.owner)===t.currentUser),e.xp6(1),e.Q6J("ngIf",(null==t.channel?null:t.channel.owner)===t.currentUser),e.xp6(1),e.Q6J("ngIf",null==t.channel?null:t.channel.private),e.xp6(1),e.Q6J("ngIf",null==t.channel?null:t.channel.private),e.xp6(2),e.Q6J("ngForOf",t.users))},dependencies:[h.sg,h.O5,d.Fj,d.JJ,d.oH,_e],styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";.channel-messages-settings-border[_ngcontent-%COMP%]{position:absolute;width:40%;z-index:3;border:.1dvw solid #2f424a;box-sizing:border-box;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));right:0%;max-height:100%;height:100%}.channel-messages-settings[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;background-color:#4f6d7a;border:.7dvw solid #E8DAB2;max-height:100%;height:100%;overflow:auto}.title[_ngcontent-%COMP%]{margin:5% 5% 3%;color:#2f424a;font-family:Bodoni Moda,serif;font-size:1.5dvw;text-align:center;justify-content:center}p[_ngcontent-%COMP%]{margin:0% 10% 5%;padding:0%;font-family:Quattrocento,serif;font-weight:bolder;color:#2f424a;font-size:.7dvw}label[_ngcontent-%COMP%]{display:block;margin-left:10%;margin-top:0%;font-size:1dvw;font-family:Quattrocento,serif;font-weight:bolder;color:#e8dab2}.password-field-container[_ngcontent-%COMP%], .invite-to-channel[_ngcontent-%COMP%]{margin:3% 10%;display:flex}.invite-to-channel[_ngcontent-%COMP%]{flex-direction:column}.user-dropdown[_ngcontent-%COMP%]{background-color:#e8dab2;box-sizing:border-box;border:.1dvw solid #E8DAB2;width:100%;padding:.5dvw;border:.1dvw solid #2f424a;display:flex}.name[_ngcontent-%COMP%]{padding-left:0dvw;font-family:Quattrocento,serif;font-size:1dvw;font-weight:700;color:#4f6d7a;text-overflow:ellipsis;overflow:hidden}.user-dropdown[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e9d5a1}input[_ngcontent-%COMP%]{padding:2%;width:67.3%;font-size:.9dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;border-bottom:.1dvw solid #E8DAB2;border-top:.1dvw solid #425c68;background-color:#425c68;color:#e8dab2;outline:none}.invite-to-channel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:96%;height:1.5dvw}.change-btn[_ngcontent-%COMP%]{font-size:1dvw;height:2.4dvw;width:5dvw}.users-container[_ngcontent-%COMP%]{margin:0% 10% 25%}button[_ngcontent-%COMP%]{color:#4f6d7a;background-color:#e8dab2;font-size:1.2dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;cursor:pointer;align-self:center;justify-self:center;height:2.3dvw;width:5.5dvw;border:.2dvh solid #2f424a}button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.footer[_ngcontent-%COMP%]{position:fixed;bottom:.69dvw;right:3.35dvw;left:2.65dvw;background-color:#4f6d7a}.close[_ngcontent-%COMP%]{float:right;margin:7% 0%}.exit[_ngcontent-%COMP%]{margin:7% 0%;color:#b04343;width:8.6dvw;border:.2dvh solid #4a2f2f}'],data:{animation:[(0,l.X$)("openClose",[(0,l.SB)("open",(0,l.oB)({width:"40%",right:"0%"})),(0,l.SB)("closed",(0,l.oB)({width:"40%",right:"-42%"})),(0,l.eR)("open <=> closed",[(0,l.jt)(".7s cubic-bezier(.49,.07,.39,.93)")])])]}})}return o})();const Oe=["messageContainer"];function Te(o,s){1&o&&(e.TgZ(0,"div",10),e._UZ(1,"div",11),e.qZA())}function ye(o,s){if(1&o&&(e.TgZ(0,"div")(1,"app-message",12),e._uU(2),e.qZA()()),2&o){const n=s.$implicit,i=s.index,t=e.oxw();e.xp6(1),e.Q6J("msg",n)("sameSender",i>0&&t.fetchedMessages[i-1].user===n.user),e.xp6(1),e.hij(" ",t.scrollToBottom()," ")}}function Ae(o,s){if(1&o&&(e.TgZ(0,"div")(1,"app-message",12),e._uU(2),e.qZA()()),2&o){const n=s.$implicit,i=s.index,t=e.oxw();e.xp6(1),e.Q6J("msg",n)("sameSender",i>0&&t.incomingMessages[i-1].user===n.user),e.xp6(1),e.hij(" ",t.scrollToBottom()," ")}}let ke=(()=>{class o{constructor(n){this.chatService=n,this.channelChange=new e.vpe,this.fetchedMessages=[],this.incomingMessages=[],this.loading=!1,this.isSettingsOpen=!1}ngOnInit(){this.chatService.getChannelMessages().subscribe(n=>this.fetchedMessages=n),this.chatService.getIncomingMessages().subscribe(n=>{n.channel.id===this.channel?.id&&this.incomingMessages.push(n)})}ngOnChanges(n){n.channel&&(this.incomingMessages=[])}sendMessage(){void 0===this.messageToSend||void 0===this.channel||(this.messageToSend=this.messageToSend.trim(),this.messageToSend&&(this.chatService.sendMessage(this.channel?.id,this.messageToSend),this.scrollToBottom(),this.messageToSend=""))}scrollToBottom(){this.messageContainer.nativeElement.scrollTop=this.messageContainer.nativeElement.scrollHeight}openSettings(){this.isSettingsOpen=!0}channelChangeEvent(n){this.channelChange.emit(n)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-channel-messages-content"]],viewQuery:function(i,t){if(1&i&&e.Gf(Oe,5),2&i){let a;e.iGM(a=e.CRH())&&(t.messageContainer=a.first)}},inputs:{channel:"channel"},outputs:{channelChange:"channelChange"},features:[e.TTD],decls:11,vars:6,consts:[["src","data:image/svg+xml,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cpath d='m0,0l48,0l0,48l-48,0l0,-48z' fill='none' id='svg_1' transform='matrix(1, 0, 0, 1, 0, 0)'/%3E%3Cpath d='m38.86,25.95c0.08,-0.64 0.14,-1.29 0.14,-1.95s-0.06,-1.31 -0.14,-1.95l4.23,-3.31c0.38,-0.3 0.49,-0.84 0.24,-1.28l-4,-6.93c-0.25,-0.43 -0.77,-0.61 -1.22,-0.43l-4.98,2.01c-1.03,-0.79 -2.16,-1.46 -3.38,-1.97l-0.75,-5.3c-0.09,-0.47 -0.5,-0.84 -1,-0.84l-8,0c-0.5,0 -0.91,0.37 -0.99,0.84l-0.75,5.3c-1.22,0.51 -2.35,1.17 -3.38,1.97l-4.98,-2.01c-0.45,-0.17 -0.97,0 -1.22,0.43l-4,6.93c-0.25,0.43 -0.14,0.97 0.24,1.28l4.22,3.31c-0.08,0.64 -0.14,1.29 -0.14,1.95s0.06,1.31 0.14,1.95l-4.22,3.31c-0.38,0.3 -0.49,0.84 -0.24,1.28l4,6.93c0.25,0.43 0.77,0.61 1.22,0.43l4.98,-2.01c1.03,0.79 2.16,1.46 3.38,1.97l0.75,5.3c0.08,0.47 0.49,0.84 0.99,0.84l8,0c0.5,0 0.91,-0.37 0.99,-0.84l0.75,-5.3c1.22,-0.51 2.35,-1.17 3.38,-1.97l4.98,2.01c0.45,0.17 0.97,0 1.22,-0.43l4,-6.93c0.25,-0.43 0.14,-0.97 -0.24,-1.28l-4.22,-3.31zm-14.86,5.05c-3.87,0 -7,-3.13 -7,-7s3.13,-7 7,-7s7,3.13 7,7s-3.13,7 -7,7z' fill='%23e8dab2' id='svg_2'/%3E%3C/g%3E%3C/svg%3E",1,"settings-button",3,"click"],[3,"isOpen","channel","isOpenChange","channelChangeEvent"],["class","loading-screen",4,"ngIf"],[1,"message-container"],["messageContainer",""],[4,"ngFor","ngForOf"],[1,"message-box"],["type","text","placeholder","Message","autofocus","",3,"ngModel","ngModelChange","keyup.enter"],[1,"send-button",3,"click"],["src","data:image/svg+xml,%3Csvg width='30' height='30' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cmetadata id='metadata819'%3Eimage/svg+xml%3C/metadata%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cg id='layer1'%3E%3Cpath d='m25.54191,14.95809c0,-1.11962 -1,-1.5 -1,-1.5l-20,-8l3.60352,8.56055l9.39648,0.93945l-9.39648,0.93945l-3.60352,8.56055l20,-8c0,0 1,-0.38038 1,-1.5z' fill='%23e8dab2' id='rect820' stroke-miterlimit='4' stroke-width='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"],[1,"loading-screen"],[1,"loader"],[3,"msg","sameSender"]],template:function(i,t){1&i&&(e.TgZ(0,"img",0),e.NdJ("click",function(){return t.openSettings()}),e.qZA(),e.TgZ(1,"app-channel-messages-settings",1),e.NdJ("isOpenChange",function(c){return t.isSettingsOpen=c})("channelChangeEvent",function(c){return t.channelChangeEvent(c)}),e.qZA(),e.YNc(2,Te,2,0,"div",2),e.TgZ(3,"div",3,4),e.YNc(5,ye,3,3,"div",5),e.YNc(6,Ae,3,3,"div",5),e.qZA(),e.TgZ(7,"div",6)(8,"textarea",7),e.NdJ("ngModelChange",function(c){return t.messageToSend=c})("keyup.enter",function(){return t.sendMessage()}),e.qZA(),e.TgZ(9,"div",8),e.NdJ("click",function(){return t.sendMessage()}),e._UZ(10,"img",9),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("isOpen",t.isSettingsOpen)("channel",t.channel),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(3),e.Q6J("ngForOf",t.fetchedMessages),e.xp6(1),e.Q6J("ngForOf",t.incomingMessages),e.xp6(2),e.Q6J("ngModel",t.messageToSend))},dependencies:[h.sg,h.O5,d.Fj,d.JJ,d.On,H,xe],styles:[".settings-button[_ngcontent-%COMP%]{position:absolute;width:2.7dvw;top:1dvw;right:1.5dvw;opacity:40%;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.4));transform:rotate(0);animation:_ngcontent-%COMP%_animate-button-reverse 1s 1 cubic-bezier(.075,.82,.165,1)}.settings-button[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:100%;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));transform:rotate(30deg);animation:_ngcontent-%COMP%_animate-button 1s 1 cubic-bezier(.075,.82,.165,1)}@keyframes _ngcontent-%COMP%_animate-button{0%{filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.4));transform:rotate(0)}to{filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));transform:rotate(30deg)}}@keyframes _ngcontent-%COMP%_animate-button-reverse{0%{filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));transform:rotate(30deg)}to{filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.4));transform:rotate(0)}}.loading-screen[_ngcontent-%COMP%]{position:absolute;background-color:#4f6d7a;height:56dvh;width:100%}.loader[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);border:.5dvh solid #4F6D7A;border-top:.5dvh solid #E8DAB2;border-radius:50%;width:3dvh;height:3dvh;animation:_ngcontent-%COMP%_spin 2s cubic-bezier(.075,.82,.165,1) infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message-container[_ngcontent-%COMP%]{margin-top:1.4dvh;padding-left:2dvw;padding-right:2dvw;height:53.7dvh;overflow:auto}.message-box[_ngcontent-%COMP%]{box-sizing:border-box;height:15dvh;margin-top:3dvh;margin-left:2dvw;margin-right:2dvw;bottom:.9dvh;position:relative}.message-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{all:unset;box-sizing:border-box;resize:none;width:100%;height:15dvh;background-color:#e8dab2;border-radius:2dvw;border:.3dvw solid #E8DAB2;white-space:pre-wrap;word-wrap:break-word;overflow-y:auto;overflow-x:hidden;padding-left:2dvw;padding-right:5dvw;padding-top:1.6dvh;font-family:Quattrocento,serif;font-size:1.3dvw;font-weight:700;color:#423b0b;caret-color:#423b0b;scrollbar-width:none}.message-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border:.3dvw solid #5f5948}.send-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.7dvw;background-color:#5f5948;border-radius:.5dvw;padding:.2dvh .3dvw;position:absolute;top:35%;right:3.5%}.send-button[_ngcontent-%COMP%]:hover{cursor:pointer}.send-button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{background-color:#494437}"]})}return o})();function Pe(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"h1",3),e._uU(2,"Private Channel Setup."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"This type of channel is invite-only and it's not visible for the public in the list of channels."),e.qZA(),e.TgZ(5,"label",4),e._uU(6,"Choose a channel name:"),e.qZA(),e.TgZ(7,"input",5,6),e.NdJ("ngModelChange",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.channelName=t)}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.toggle())}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createChannel())}),e._uU(12,"Create"),e.qZA()()}if(2&o){const n=e.MAs(8),i=e.oxw();e.xp6(7),e.ekj("is-invalid",n.invalid),e.Q6J("ngModel",i.channelName),e.xp6(4),e.ekj("btn-invalid",n.invalid),e.Q6J("disabled",n.invalid)}}function Ze(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"h1",3),e._uU(2,"Protected Channel Setup."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"This type of channel is visible for the public in the list of channels, but only users who enter the correct password are permitted to access it."),e.qZA(),e.TgZ(5,"label",4),e._uU(6,"Choose a channel name:"),e.qZA(),e.TgZ(7,"input",5,6),e.NdJ("ngModelChange",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.channelName=t)}),e.qZA(),e.TgZ(9,"label",9),e._uU(10,"Choose a password for your channel:"),e.qZA(),e.TgZ(11,"input",10,11),e.NdJ("ngModelChange",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.channelPassword=t)}),e.qZA(),e.TgZ(13,"button",7),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.toggle())}),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createChannel())}),e._uU(16,"Create"),e.qZA()()}if(2&o){const n=e.MAs(8),i=e.MAs(12),t=e.oxw();e.xp6(7),e.ekj("is-invalid",n.invalid),e.Q6J("ngModel",t.channelName),e.xp6(4),e.ekj("is-invalid",i.invalid),e.Q6J("ngModel",t.channelPassword),e.xp6(4),e.ekj("btn-invalid",n.invalid||i.invalid),e.Q6J("disabled",n.invalid&&i.invalid)}}function Ee(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"h1",3),e._uU(2,"Public Channel Setup."),e.qZA(),e.TgZ(3,"p"),e._uU(4,"This type of channel is visible for the public in the list of channels, anyone can access it."),e.qZA(),e.TgZ(5,"label",4),e._uU(6,"Choose a channel name:"),e.qZA(),e.TgZ(7,"input",5,6),e.NdJ("ngModelChange",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.channelName=t)}),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.toggle())}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.createChannel())}),e._uU(12,"Create"),e.qZA()()}if(2&o){const n=e.MAs(8),i=e.oxw();e.xp6(7),e.ekj("is-invalid",n.invalid),e.Q6J("ngModel",i.channelName),e.xp6(4),e.ekj("btn-invalid",n.invalid),e.Q6J("disabled",n.invalid)}}let Ue=(()=>{class o{constructor(n){this.chatService=n,this.isOpenChange=new e.vpe,this.channelName=""}toggle(){this.isOpen=!this.isOpen,this.isOpenChange.emit(this.isOpen)}createChannel(){this.channelType&&(this.chatService.createChannel({name:this.channelName,type:this.channelType,private:"private"===this.channelType,password:this.channelPassword}),this.channelName="",this.channelPassword="",this.toggle())}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-channel-creation-menu"]],inputs:{channelType:"channelType",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:5,vars:4,consts:[[1,"channel-creation-menu-border"],[1,"channel-creation-menu"],[4,"ngIf"],[1,"title"],["for","channel-name"],["type","text","id","channel-name","required","","minlength","2","maxlength","20","pattern","[^\\s]*",3,"ngModel","ngModelChange"],["channelname","ngModel"],[1,"close",3,"click"],[1,"change-btn",3,"disabled","click"],["for","channel-password"],["type","password","id","channel-password","required","","minlength","8","maxlength","20","pattern","[^\\s]*",3,"ngModel","ngModelChange"],["channelpassword","ngModel"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Pe,13,6,"div",2),e.YNc(3,Ze,17,9,"div",2),e.YNc(4,Ee,13,6,"div",2),e.qZA()()),2&i&&(e.Q6J("@openClose",t.isOpen?"open":"closed"),e.xp6(2),e.Q6J("ngIf","private"===t.channelType),e.xp6(1),e.Q6J("ngIf","protected"===t.channelType),e.xp6(1),e.Q6J("ngIf","public"===t.channelType))},dependencies:[h.O5,d.Fj,d.JJ,d.Q7,d.wO,d.nD,d.c5,d.On],styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";.channel-creation-menu-border[_ngcontent-%COMP%]{position:absolute;width:40%;z-index:3;border:.1dvw solid #2f424a;box-sizing:border-box;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));left:0%}.channel-creation-menu[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#4f6d7a;border:.7dvw solid #E8DAB2}.title[_ngcontent-%COMP%]{margin:5%;color:#2f424a;font-family:Bodoni Moda,serif;font-size:1.5dvw;text-align:center;justify-content:center}.is-invalid[_ngcontent-%COMP%]{border-bottom:.1dvw solid #b04343}.btn-invalid[_ngcontent-%COMP%], .btn-invalid[_ngcontent-%COMP%]:hover{color:#2b3a41;background-color:#988e6f}p[_ngcontent-%COMP%]{margin:0% 10% 5%;padding:0%;font-family:Quattrocento,serif;font-weight:bolder;color:#2f424a;font-size:.7dvw}label[_ngcontent-%COMP%]{display:block;margin-left:10%;font-size:1dvw;font-family:Quattrocento,serif;font-weight:bolder;color:#e8dab2}input[_ngcontent-%COMP%]{display:block;margin:3% 10% 7%;padding:3%;width:74%;font-size:.9dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;border-bottom:.1dvw solid #E8DAB2;background-color:#425c68;color:#e8dab2;outline:none}button[_ngcontent-%COMP%]{color:#4f6d7a;background-color:#e8dab2;font-size:1.2dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;cursor:pointer;align-self:center;justify-self:center;height:4.5dvh;width:5.5dvw;border:.2dvh solid #2f424a}button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.close[_ngcontent-%COMP%]{margin:0% 10% 7%}.change-btn[_ngcontent-%COMP%]{margin:0% 10% 7%;float:right}'],data:{animation:[(0,l.X$)("openClose",[(0,l.SB)("open",(0,l.oB)({width:"40%",left:"0%"})),(0,l.SB)("closed",(0,l.oB)({width:"40%",left:"-42%"})),(0,l.eR)("open <=> closed",[(0,l.jt)(".7s cubic-bezier(.49,.07,.39,.93)")])])]}})}return o})(),Se=(()=>{class o{constructor(n){this.chatService=n,this.isOpenChange=new e.vpe}toggle(){this.isOpen=!this.isOpen,this.isOpenChange.emit(this.isOpen)}tryPassword(){this.channel&&(this.chatService.joinChannel({id:this.channel.id,password:this.channelPassword}),this.chatService.requestUserChannels(),this.toggle())}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-channel-join-popup"]],inputs:{isOpen:"isOpen",channel:"channel"},outputs:{isOpenChange:"isOpenChange"},decls:13,vars:2,consts:[[1,"request-password-menu-border"],[1,"request-password-menu"],[1,"title"],["for","channel-password"],["type","text","id","channel-password",3,"ngModel","ngModelChange"],[1,"close",3,"click"],[1,"send",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Le Password"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"To enter this Channel please type in the correct Password"),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Password:"),e.qZA(),e.TgZ(8,"input",4),e.NdJ("ngModelChange",function(c){return t.channelPassword=c}),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return t.toggle()}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",6),e.NdJ("click",function(){return t.tryPassword()}),e._uU(12,"Join"),e.qZA()()()),2&i&&(e.Q6J("@openClose",t.isOpen?"open":"closed"),e.xp6(8),e.Q6J("ngModel",t.channelPassword))},dependencies:[d.Fj,d.JJ,d.On],styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";.request-password-menu-border[_ngcontent-%COMP%]{position:absolute;width:40%;z-index:3;border:.1dvw solid #2f424a;box-sizing:border-box;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));left:0%}.request-password-menu[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#4f6d7a;border:.7dvw solid #E8DAB2}.title[_ngcontent-%COMP%]{margin:5%;color:#2f424a;font-family:Bodoni Moda,serif;font-size:1.5dvw;text-align:center;justify-content:center}p[_ngcontent-%COMP%]{margin:0% 10% 5%;padding:0%;font-family:Quattrocento,serif;font-weight:bolder;color:#2f424a;font-size:.7dvw}label[_ngcontent-%COMP%]{display:block;margin-left:10%;font-size:1dvw;font-family:Quattrocento,serif;font-weight:bolder;color:#e8dab2}input[_ngcontent-%COMP%]{display:block;margin:3% 10% 7%;padding:3%;width:74%;font-size:.9dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;border-bottom:.1dvw solid #E8DAB2;background-color:#425c68;color:#e8dab2;outline:none}button[_ngcontent-%COMP%]{color:#4f6d7a;background-color:#e8dab2;font-size:1.2dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;cursor:pointer;align-self:center;justify-self:center;height:4.5dvh;width:5.5dvw;border:.2dvh solid #2f424a}button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.close[_ngcontent-%COMP%]{margin:0% 10% 7%}.send[_ngcontent-%COMP%]{margin:0% 10% 7%;float:right}'],data:{animation:[(0,l.X$)("openClose",[(0,l.SB)("open",(0,l.oB)({width:"40%",left:"0%"})),(0,l.SB)("closed",(0,l.oB)({width:"40%",left:"-42%"})),(0,l.eR)("open <=> closed",[(0,l.jt)(".7s cubic-bezier(.49,.07,.39,.93)")])])]}})}return o})();function Ie(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div",14)(1,"span",15),e.NdJ("click",function(){const a=e.CHM(n).$implicit,c=e.oxw();return e.KtG(c.selectUser(a))}),e._uU(2),e.qZA()()}if(2&o){const n=s.$implicit;e.xp6(2),e.hij(" ",n.username," ")}}let Je=(()=>{class o{constructor(n){this.chatService=n,this.isOpenChange=new e.vpe,this.isDropdownOpen=!1,this.userSearch=new d.NI}ngOnInit(){this.userSearch.valueChanges.pipe(M(500),(0,x.x)(),(0,O.w)(n=>this.chatService.findUser(n).pipe((0,T.b)(i=>{this.searchedUsers=i,this.isDropdownOpen=!0,console.log(i)})))).subscribe()}toggle(){this.isOpen=!this.isOpen,this.isOpenChange.emit(this.isOpen)}sendMessage(){void 0!==this.messageToSend&&(this.messageToSend=this.messageToSend.trim(),this.messageToSend&&this.selectedUser&&(this.chatService.sendDM(this.selectedUser?.id,this.messageToSend),this.messageToSend="",this.toggle()))}selectUser(n){this.selectedUser=n,this.isDropdownOpen=!1}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-direct-message"]],inputs:{isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},decls:19,vars:5,consts:[[1,"request-password-menu-border"],[1,"request-password-menu"],[1,"title"],["for","user-search"],[1,"search-box-dropdown"],[1,"search-box"],["type","text","ng-model","inputText","placeholder","e.g. ktashbae","type","text","id","user-search",1,"user-search-input",3,"value","formControl"],["src","data:image/svg+xml,%3C%3Fxml version='1.0' standalone='no'%3F%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3E%3Csvg version='1.0' xmlns='http://www.w3.org/2000/svg' width='1280.000000pt' height='1280.000000pt' viewBox='0 0 1280.000000 1280.000000' preserveAspectRatio='xMidYMid meet'%3E%3Cmetadata%3E%0ACreated by potrace 1.15, written by Peter Selinger 2001-2017%0A%3C/metadata%3E%3Cg transform='translate(0.000000,1280.000000) scale(0.100000,-0.100000)'%0Afill='%234F6D7A' stroke='none'%3E%3Cpath d='M5740 12784 c-199 -42 -369 -198 -438 -399 l-27 -80 -3 -2387 -2%0A-2388 -2356 0 c-2619 0 -2435 5 -2584 -68 -104 -50 -212 -158 -263 -263 -66%0A-134 -67 -146 -67 -799 0 -651 2 -666 66 -795 69 -141 187 -243 344 -299 l85%0A-31 2387 -3 2388 -2 2 -2388 3 -2387 28 -80 c73 -206 239 -357 443 -400 101%0A-21 1207 -21 1308 0 204 43 370 194 443 400 l28 80 3 2387 2 2388 2388 2 2387%0A3 85 31 c157 56 275 158 344 299 64 129 66 144 66 795 0 653 -1 665 -67 799%0A-51 105 -159 213 -263 263 -149 73 35 68 -2584 68 l-2356 0 -2 2388 -3 2387%0A-27 80 c-70 203 -240 357 -443 400 -100 21 -1217 20 -1315 -1z'/%3E%3C/g%3E%3C/svg%3E%0A",1,"dd-button",3,"click"],["class","name",4,"ngFor","ngForOf"],[1,"message-box"],["type","text","placeholder","Message","autofocus","",3,"ngModel","ngModelChange","keyup.enter"],[1,"send-button",3,"click"],["src","data:image/svg+xml,%3Csvg width='30' height='30' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cmetadata id='metadata819'%3Eimage/svg+xml%3C/metadata%3E%3Cg class='layer'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cg id='layer1'%3E%3Cpath d='m25.54191,14.95809c0,-1.11962 -1,-1.5 -1,-1.5l-20,-8l3.60352,8.56055l9.39648,0.93945l-9.39648,0.93945l-3.60352,8.56055l20,-8c0,0 1,-0.38038 1,-1.5z' fill='%23e8dab2' id='rect820' stroke-miterlimit='4' stroke-width='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"],[1,"close",3,"click"],[1,"name"],[1,"user-dropdown",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Le Message"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"Send a message to start a conversation"),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Search for user to message:"),e.qZA(),e.TgZ(8,"div",4)(9,"div",5),e._UZ(10,"input",6),e.TgZ(11,"img",7),e.NdJ("click",function(){return t.userSearch.reset()}),e.qZA()(),e.YNc(12,Ie,3,1,"div",8),e.qZA(),e.TgZ(13,"div",9)(14,"textarea",10),e.NdJ("ngModelChange",function(c){return t.messageToSend=c})("keyup.enter",function(){return t.sendMessage()}),e.qZA(),e.TgZ(15,"div",11),e.NdJ("click",function(){return t.sendMessage()}),e._UZ(16,"img",12),e.qZA()(),e.TgZ(17,"button",13),e.NdJ("click",function(){return t.toggle()}),e._uU(18,"Close"),e.qZA()()()),2&i&&(e.Q6J("@openClose",t.isOpen?"open":"closed"),e.xp6(10),e.s9C("value",null==t.selectedUser?null:t.selectedUser.username),e.Q6J("formControl",t.userSearch),e.xp6(2),e.Q6J("ngForOf",t.searchedUsers),e.xp6(2),e.Q6J("ngModel",t.messageToSend))},dependencies:[h.sg,d.Fj,d.JJ,d.On,d.oH],styles:['@import"https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,opsz,wght@1,6..96,700&display=swap";.request-password-menu-border[_ngcontent-%COMP%]{position:absolute;width:40%;z-index:3;border:.1dvw solid #2f424a;box-sizing:border-box;filter:drop-shadow(0 .1dvw .2dvw rgba(0,0,0,.8));left:0%}.request-password-menu[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#4f6d7a;border:.7dvw solid #E8DAB2}.title[_ngcontent-%COMP%]{margin:5%;color:#2f424a;font-family:Bodoni Moda,serif;font-size:1.5dvw;text-align:center;justify-content:center}p[_ngcontent-%COMP%]{margin:0% 10% 5%;padding:0%;font-family:Quattrocento,serif;font-weight:bolder;text-align:center;color:#2f424a;font-size:.7dvw}label[_ngcontent-%COMP%]{display:block;margin-left:10%;font-size:1dvw;font-family:Quattrocento,serif;font-weight:bolder;color:#e8dab2}.search-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}input[_ngcontent-%COMP%]{display:block;margin:3% 2% 0% 10%;padding:3%;width:74%;font-size:.9dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;border-bottom:.1dvw solid #E8DAB2;background-color:#425c68;color:#e8dab2;outline:none}.dd-button[_ngcontent-%COMP%]{appearance:none;width:77%;padding:.1dvw;display:inline;cursor:pointer;white-space:nowrap;background-color:#e8dab2;border-radius:1dvw;width:.5dvw;height:.5dvw;transform:rotate(45deg)}.dd-button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.user-dropdown[_ngcontent-%COMP%]{background-color:#e8dab2;box-sizing:border-box;border:.1dvw solid #E8DAB2;width:100%;padding:.5dvw;border:.1dvw solid #2f424a;display:flex}.user-dropdown[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#e9d5a1}button[_ngcontent-%COMP%]{color:#4f6d7a;background-color:#e8dab2;font-size:1.2dvw;font-family:Quattrocento,serif;font-weight:bolder;border:none;cursor:pointer;align-self:center;justify-self:center;height:4.5dvh;width:5.5dvw;border:.2dvh solid #2f424a}button[_ngcontent-%COMP%]:hover{background-color:#e9d5a1}.close[_ngcontent-%COMP%]{margin:0% 10% 7%}.message-box[_ngcontent-%COMP%]{box-sizing:border-box;height:15dvh;margin-top:3dvh;margin-left:2dvw;margin-right:2dvw;bottom:.9dvh;position:relative}.message-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{all:unset;box-sizing:border-box;resize:none;width:100%;height:100%;background-color:#e8dab2;border-radius:2dvw;border:.3dvw solid #E8DAB2;white-space:pre-wrap;word-wrap:break-word;overflow-y:auto;overflow-x:hidden;padding-left:2dvw;padding-right:5dvw;padding-top:1.6dvh;font-family:Quattrocento,serif;font-size:1.3dvw;font-weight:700;color:#423b0b;caret-color:#423b0b;scrollbar-width:none}.message-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border:.3dvw solid #5f5948}.send-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.7dvw;background-color:#5f5948;border-radius:.5dvw;padding:.2dvh .3dvw;position:absolute;top:35%;right:3.5%}.send-button[_ngcontent-%COMP%]:hover{cursor:pointer}.send-button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{background-color:#494437}'],data:{animation:[(0,l.X$)("openClose",[(0,l.SB)("open",(0,l.oB)({width:"40%",left:"0%"})),(0,l.SB)("closed",(0,l.oB)({width:"40%",left:"-42%"})),(0,l.eR)("open <=> closed",[(0,l.jt)(".7s cubic-bezier(.49,.07,.39,.93)")])])]}})}return o})();function Ne(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"app-sidebar-channel",16),e.NdJ("click",function(){const a=e.CHM(n).$implicit,c=e.oxw(2);return e.KtG(c.onChannelSelect(a))}),e.qZA()()}if(2&o){const n=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("isSelected",n.id===(null==i.selectedChannel?null:i.selectedChannel.id))("channel",n)}}function qe(o,s){if(1&o&&(e.TgZ(0,"div",14),e.YNc(1,Ne,2,2,"div",15),e.ALo(2,"async"),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.myChannels$))}}function De(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"app-sidebar-channel",16),e.NdJ("click",function(){const a=e.CHM(n).$implicit,c=e.oxw(2);return e.KtG(c.onChannelSelect(a))}),e.qZA()()}if(2&o){const n=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("isSelected",n.id===(null==i.selectedChannel?null:i.selectedChannel.id))("channel",n)}}function ze(o,s){if(1&o&&(e.TgZ(0,"div",14),e.YNc(1,De,2,2,"div",15),e.ALo(2,"async"),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.allChannels$))}}function Qe(o,s){if(1&o){const n=e.EpF();e.TgZ(0,"app-channel-messages-content",17),e.NdJ("channelChange",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.selectedChannel=t)}),e.qZA()}if(2&o){const n=e.oxw();e.Q6J("channel",n.selectedChannel)}}function Be(o,s){1&o&&e._UZ(0,"app-default-content")}function Fe(o,s){if(1&o&&e._UZ(0,"app-error-message",18),2&o){const n=e.oxw();e.Q6J("message",n.errorMessage)}}const Ye=[{path:"",component:(()=>{class o{constructor(n){this.chatService=n,this.selectedTab="my-chats",this.myChannels$=this.chatService.getUsersChannels(),this.allChannels$=this.chatService.getChannels(),this.channelCreationPopup=!1,this.passwordInputPopup=!1,this.directMsgPopup=!1}ngOnInit(){this.chatService.requestUserChannels(),this.chatService.requestChannels(),this.chatService.onError().subscribe(n=>{this.displayError(n.message),console.error(n)})}onChannelSelect(n){this.selectedChannel=n,"available-chats"===this.selectedTab?this.selectedChannel.protected?(this.selectedTab="my-chats",this.passwordInputPopup=!0,this.channelCreationPopup=!1,this.directMsgPopup=!1):(this.chatService.joinChannel({id:this.selectedChannel.id,password:this.passwordToJoinChannel}),this.selectTab("my-chats")):this.chatService.requestChannelMessages(n.id)}createNewChannel(n){this.channelToCreate=n,this.selectTab("my-chats"),this.channelCreationPopup=!0,this.directMsgPopup=!1,this.passwordInputPopup=!1}createDm(){this.directMsgPopup=!0,this.passwordInputPopup=!1,this.channelCreationPopup=!1}selectTab(n){"my-chats"===n?(this.selectedTab="my-chats",this.selectedChannel=void 0,this.chatService.requestUserChannels()):(this.selectedTab="available-chats",this.selectedChannel=void 0,this.chatService.requestChannels())}displayError(n){this.errorMessage=n,setTimeout(()=>{this.errorMessage=void 0},5e3)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-chat"]],decls:22,vars:14,consts:[[1,"chat-interface"],[1,"channel-container-border"],[1,"channel-tabs"],[3,"click"],[1,"channel-container"],["class","channel-list",4,"ngIf"],[3,"createChannelEvent","createDmEvent"],[1,"content-container"],[3,"channelType","isOpen","isOpenChange"],[3,"channel","isOpen","isOpenChange"],[3,"channel","channelChange",4,"ngIf"],[3,"isOpen","isOpenChange"],[4,"ngIf"],["class","error-message",3,"message",4,"ngIf"],[1,"channel-list"],[4,"ngFor","ngForOf"],[3,"isSelected","channel","click"],[3,"channel","channelChange"],[1,"error-message",3,"message"]],template:function(i,t){1&i&&(e.TgZ(0,"body"),e._UZ(1,"app-navbar"),e.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3),e.NdJ("click",function(){return t.selectTab("my-chats")}),e.TgZ(6,"h1"),e._uU(7,"My Chats:"),e.qZA()(),e.TgZ(8,"div",3),e.NdJ("click",function(){return t.selectTab("available-chats")}),e.TgZ(9,"h1"),e._uU(10,"Available Chats:"),e.qZA()()(),e.TgZ(11,"div",4),e.YNc(12,qe,3,3,"div",5),e.YNc(13,ze,3,3,"div",5),e.qZA(),e.TgZ(14,"app-create-channel-button",6),e.NdJ("createChannelEvent",function(c){return t.createNewChannel(c)})("createDmEvent",function(){return t.createDm()}),e.qZA()(),e.TgZ(15,"div",7)(16,"app-channel-creation-menu",8),e.NdJ("isOpenChange",function(c){return t.channelCreationPopup=c}),e.qZA(),e.TgZ(17,"app-channel-join-popup",9),e.NdJ("isOpenChange",function(c){return t.passwordInputPopup=c}),e.qZA(),e.YNc(18,Qe,1,1,"app-channel-messages-content",10),e.TgZ(19,"app-direct-message",11),e.NdJ("isOpenChange",function(c){return t.directMsgPopup=c}),e.qZA(),e.YNc(20,Be,1,0,"app-default-content",12),e.qZA()(),e.YNc(21,Fe,1,1,"app-error-message",13),e.qZA()),2&i&&(e.xp6(5),e.ekj("selected","my-chats"===t.selectedTab),e.xp6(3),e.ekj("selected","available-chats"===t.selectedTab),e.xp6(4),e.Q6J("ngIf","my-chats"===t.selectedTab),e.xp6(1),e.Q6J("ngIf","available-chats"===t.selectedTab),e.xp6(3),e.Q6J("channelType",t.channelToCreate)("isOpen",t.channelCreationPopup),e.xp6(1),e.Q6J("channel",t.selectedChannel)("isOpen",t.passwordInputPopup),e.xp6(1),e.Q6J("ngIf",t.selectedChannel&&0==t.passwordInputPopup),e.xp6(1),e.Q6J("isOpen",t.directMsgPopup),e.xp6(1),e.Q6J("ngIf",void 0===t.selectedChannel||t.passwordInputPopup),e.xp6(1),e.Q6J("ngIf",t.errorMessage))},dependencies:[h.sg,h.O5,Z.S,E,N,D,z,ke,Ue,Se,Je,h.Ov],styles:["body[_ngcontent-%COMP%]{background-color:#4f6d7a;position:relative}.chat-interface[_ngcontent-%COMP%]{width:80%;height:77%;margin:auto;display:flex}.channel-container-border[_ngcontent-%COMP%]{width:25%;border:.7dvw solid #E8DAB2;position:relative}.error-message[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%,-50%);z-index:2;width:100%;height:100%}.channel-container-border[_ngcontent-%COMP%]   app-create-channel-button[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);z-index:2}.channel-container[_ngcontent-%COMP%]{margin:.7dvw;max-height:80%;overflow:auto}.channel-tabs[_ngcontent-%COMP%]{width:100%;height:10%;display:flex;align-items:center;justify-content:center;background-color:#405862}.channel-tabs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50%;height:100%;display:flex;align-items:center;justify-content:center;border:.1dvw solid #405862;border-bottom:.1dvw solid #344851}.channel-tabs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{cursor:pointer}.channel-tabs[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#344851;border:.1dvw solid #344851;border-bottom:.1dvw solid #E8DAB2}.channel-tabs[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:0;height:100%;align-self:center;display:flex;align-items:center;font-family:Bodoni Moda,serif;font-size:1.2dvw;margin:auto;color:#e8dab2}.content-container[_ngcontent-%COMP%]{border-top:.7dvw solid #E8DAB2;border-bottom:.7dvw solid #E8DAB2;border-right:.7dvw solid #E8DAB2;width:75%;overflow:hidden;position:relative;z-index:1}"]})}return o})()}];let Ge=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(Ye),m.Bz]})}return o})();var je=g(6208);let He=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[h.ez,Ge,d.u5,je.m,d.UX]})}return o})()}}]);